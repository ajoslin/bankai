<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title></title><style>*{box-sizing:border-box}.cxs-3057891252 h1{font-size:inherit;margin-top:32px}.cxs-799160745{font-size:48px}.cxs-3954183383{font-size:24px}.cxs-3057891252 pre code:before{content:none}.cxs-857983649{}.cxs-857983649 h1{font-weight:700;letter-spacing:-0.01em;font-size:24px;margin-top:48px;margin-bottom:48px;border-bottom-width:4px;border-bottom-style:solid}.cxs-3057891252 pre code{}.cxs-857983649 h2{font-weight:700;letter-spacing:-0.01em;font-size:24px;margin-top:48px;margin-bottom:48px;border-bottom-width:4px;border-bottom-style:solid}.cxs-3057891252 b:after{content:"*"}.cxs-857983649 h3{font-weight:700;letter-spacing:-0.01em;font-size:20px;margin-top:48px;margin-bottom:48px;border-bottom-width:2px;border-bottom-style:solid}.cxs-3057891252 b:before{content:"*"}.cxs-857983649 h4{font-weight:700;letter-spacing:-0.01em;font-size:20px;margin-top:32px;margin-bottom:8px}.cxs-857983649 h5{font-weight:700;letter-spacing:-0.01em;font-size:20px;margin-top:32px;margin-bottom:8px}.cxs-857983649 h6{font-weight:700;letter-spacing:-0.01em;font-size:20px;margin-top:32px;margin-bottom:8px}.cxs-857983649 p{overflow-x:auto;max-width:40em;margin-top:0px;margin-bottom:16px}.cxs-857983649 code{font-family:Menlo, monospace;font-size:14px;color:#05a}.cxs-857983649 pre{font-family:Menlo, monospace;font-size:14px;overflow-x:auto;padding-top:16px;padding-bottom:16px;margin-top:32px;margin-bottom:32px;border-top:1px solid;border-bottom:1px solid}.cxs-857983649 pre .hljs-keyword{color:#05a}.cxs-857983649 pre .hljs-built_in{color:#444}.cxs-857983649 pre .hljs-type{color:#444}.cxs-857983649 pre .hljs-literal{color:#05a}.cxs-857983649 pre .hljs-number{color:#f30}.cxs-857983649 pre .hljs-regexp{color:#05a}.cxs-857983649 pre .hljs-string{color:#444}.cxs-857983649 pre .hljs-subst{color:#444}.cxs-857983649 pre .hljs-symbol{color:#05a}.cxs-857983649 pre .hljs-class{color:#05a}.cxs-857983649 pre .hljs-function{color:#f30}.cxs-857983649 pre .hljs-title{color:#05a}.cxs-857983649 pre .hljs-params{color:#444}.cxs-857983649 pre .hljs-comment{color:#444}.cxs-857983649 pre .hljs-doctag{color:#444}.cxs-857983649 pre .hljs-meta{color:#444}.cxs-857983649 pre .hljs-meta-keyword{color:#05a}.cxs-857983649 pre .hljs-meta-string{color:#05a}.cxs-857983649 hr{margin-top:48px;margin-bottom:48px;border:0px;border-bottom:2px solid}.cxs-857983649 table{border-collapse:separate;border-spacing:0px;max-width:100%;width:100%}.cxs-857983649 th{text-align:left;line-height:inherit;vertical-align:bottom}.cxs-857983649 td{vertical-align:top;line-height:inherit}.cxs-857983649 img{max-width: 100%;height: auto;margin-top:16px;margin-bottom:16px}.cxs-857983649 a{color:#05a}.cxs-857983649 a:hover{text-decoration:underline}.cxs-857983649 ul{list-style:square inside;padding-left:0px;margin-top:0px;margin-bottom:32px}.cxs-2262331773{font-size:20px}.cxs-3057891252 b{}.cxs-424651569{font-size:20px}.cxs-3057891252 li:before{content:"- "}.cxs-3057891252{font-size:14px}.cxs-3057891252 li{}.cxs-3057891252 h1:before{content:"# ";color:#888}.cxs-3057891252 h2{font-size:inherit;margin-top:32px}.cxs-3057891252 h2:before{content:"## ";color:#888}.cxs-3057891252 h3{font-size:inherit}.cxs-3057891252 h3:before{content:"### ";color:#888}.cxs-3057891252 h4{font-size:16px}.cxs-3057891252 h5{font-size:14px}.cxs-3057891252 h6{font-size:12px}.cxs-3057891252 p{overflow-x:auto}.cxs-3057891252 code{font-family:inherit;font-size:inherit;overflow-x:auto;color:#666}.cxs-3057891252 code:before{content:"`"}.cxs-3057891252 code:after{content:"`"}.cxs-3057891252 pre{font-family:inherit;font-size:inherit;overflow-x:auto;color:#666}.cxs-3057891252 pre:before{content:"```";display:block}.cxs-3057891252 pre:after{content:"```";display:block}.cxs-3057891252 pre .hljs-keyword{color:#666}.cxs-3057891252 pre .hljs-built_in{color:#888}.cxs-3057891252 pre .hljs-type{color:#888}.cxs-3057891252 pre .hljs-literal{color:#666}.cxs-3057891252 pre .hljs-number{color:#1f80ff}.cxs-3057891252 pre .hljs-regexp{color:#666}.cxs-3057891252 pre .hljs-string{color:#888}.cxs-3057891252 pre .hljs-subst{color:#888}.cxs-3057891252 pre .hljs-symbol{color:#666}.cxs-3057891252 pre .hljs-class{color:#666}.cxs-3057891252 pre .hljs-function{color:#1f80ff}.cxs-3057891252 pre .hljs-title{color:#666}.cxs-3057891252 pre .hljs-params{color:#888}.cxs-3057891252 pre .hljs-comment{color:#888}.cxs-3057891252 pre .hljs-doctag{color:#888}.cxs-3057891252 pre .hljs-meta{color:#888}.cxs-3057891252 pre .hljs-meta-keyword{color:#666}.cxs-3057891252 pre .hljs-meta-string{color:#666}.cxs-3057891252 hr{margin-top:48px;margin-bottom:48px;border:0px;border-bottom-style:solid;border-bottom-width:1px}.cxs-3057891252 table{border-collapse:separate;border-spacing:0px;max-width:100%;width:100%}.cxs-3057891252 th{text-align:left;line-height:inherit;vertical-align:bottom}.cxs-3057891252 td{vertical-align:top;line-height:inherit}.cxs-3057891252 img{max-width: 100%;height: auto;margin-top:16px;margin-bottom:16px}.cxs-3057891252 a{color:inherit}.cxs-3057891252 ul{list-style-type:none;padding-left:0px}.cxs-3057891252 pre code:after{content:none}@media screen and (min-width: 52em) { .cxs-799160745{font-size:72px} }@media screen and (min-width: 52em) { .cxs-424651569{} }@media screen and (min-width: 52em) { .cxs-2262331773{font-size:32px} }@media screen and (min-width:52em) { .cxs-857983649 h3{font-size:24px} }@media screen and (min-width:52em) { .cxs-857983649 h2{font-size:48px} }@media screen and (min-width:52em) { .cxs-857983649 h1{font-size:48px} }@media screen and (min-width: 52em) { .cxs-3954183383{} }</style></head><body style="margin:0;"><div class="Xv" style="font-family:&quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-weight:400;line-height:1.5;color:#000;background-color:#fff;"><nav style="display:flex;align-items:center;padding-top:8px;padding-bottom:8px;padding-left:16px;padding-right:16px;background-color:#fff;"><a href="https://github.com/yoshuawuyts/bankai" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">GitHub</a><a href="https://npmjs.com/package/bankai" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">npm</a></nav><header style="text-align:left;"><div style="box-sizing:border-box;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;"><h1 class="cxs-799160745" style="box-sizing:border-box;font-weight:700;letter-spacing:-0.01em;margin:0;border-bottom-width:4px;border-bottom-style:solid;margin-bottom:16px;">bankai</h1><h2 class="cxs-3954183383" style="box-sizing:border-box;font-weight:700;letter-spacing:-0.01em;margin:0;">DIY asset server</h2><p class="Text" style="box-sizing:border-box;font-size:20px;margin:0;">v3.3.0</p><div style="box-sizing:border-box;margin-left:-8px;margin-right:-8px;padding-top:16px;padding-bottom:16px;"><iframe src="https://platform.twitter.com/widgets/tweet_button.html?text=bankai%3A%20DIY%20asset%20server&amp;url=&amp;via=&amp;hashtags=&amp;size=" height="20" allowtransparency="true" frameborder="0" scrolling="no" style="box-sizing:border-box;width:61px;overflow:hidden;margin:8px;"></iframe><iframe src="https://ghbtns.com/github-btn.html?type=star&amp;count=true&amp;user=yoshuawuyts&amp;repo=bankai&amp;size=" height="20" frameborder="0" scrolling="no" style="box-sizing:border-box;width:100px;overflow:hidden;margin:8px;"></iframe><div style="display:table;clear:both;"></div></div></div></header><div class="cxs-857983649" style="box-sizing:border-box;padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;"><article style="box-sizing:border-box;"><div>
<p><a href="https://npmjs.org/package/bankai"></a> <a href="https://travis-ci.org/yoshuawuyts/bankai"></a> <a href="https://codecov.io/github/yoshuawuyts/bankai"></a>
<a href="https://npmjs.org/package/bankai"></a> <a href="https://github.com/feross/standard"></a></p>
<p>DIY asset server. Serves HTML, CSS and JS as streams. Sets proper
<code>Content-Type</code> encodings and buffers where possible for sub-milisecond response
times in production and development.</p>
<h2>Installation</h2>
<pre>$ npm install bankai</pre><h2>Usage</h2>
<pre><span class="hljs-keyword">const</span> browserify = <span class="hljs-built_in">require</span>(<span class="hljs-string">'browserify'</span>)
<span class="hljs-keyword">const</span> bankai = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bankai'</span>)
<span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>)
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)

<span class="hljs-keyword">const</span> client = path.join(__dirname, <span class="hljs-string">'client.js'</span>)

<span class="hljs-keyword">const</span> assets = bankai()
<span class="hljs-keyword">const</span> css = assets.css()
<span class="hljs-keyword">const</span> js = assets.js(browserify, client)
<span class="hljs-keyword">const</span> html = assets.html()

http.createServer((req, res) =&gt; {
  <span class="hljs-keyword">switch</span> (req.url) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'/'</span>: <span class="hljs-keyword">return</span> html(req, res).pipe(res)
    <span class="hljs-keyword">case</span> <span class="hljs-string">'/bundle.js'</span>: <span class="hljs-keyword">return</span> js(req, res).pipe(res)
    <span class="hljs-keyword">case</span> <span class="hljs-string">'/bundle.css'</span>: <span class="hljs-keyword">return</span> css(req, res).pipe(res)
    <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> res.statusCode = <span class="hljs-number">404</span> &amp;&amp; res.end(<span class="hljs-string">'404 not found'</span>)
  }
}).listen(<span class="hljs-number">8080</span>)</pre><h2>API</h2>
<h3>assets = bankai(opts?)</h3>
<ul>
<li><strong>optimize:</strong> default <code>false</code>. Disable livereload scripts, cache output and
optimize all bundles.</li>
</ul>
<h3>assets.html(opts?)</h3>
<p>Return an <code>html</code> stream. Takes the following options:</p>
<ul>
<li><strong>opts.entry:</strong> <code>js</code> entry point. Defaults to <code>/bundle.js</code></li>
<li><strong>opts.css:</strong> <code>css</code> entry point. Defaults to <code>/bundle.css</code></li>
</ul>
<h3>assets.css(opts?)</h3>
<p>Return a <code>css</code> stream using <a href="https://github.com/stackcss/sheetify">sheetify</a>.
. Takes the following options:</p>
<ul>
<li><strong>use:</strong> array of transforms. Empty by default.</li>
<li><strong>basedir:</strong> project base directory. Defaults to <code>process.cwd()</code></li>
</ul>
<h3>assets.js(browserify, src, opts?)</h3>
<p>Return a <code>js</code> stream. <code>src</code> is the bundle entry file. <code>opts</code> are passed
directly to <code>browserify</code></p>
<ul>
<li><strong>opts.id</strong> id to expose the root bundle as via <code>require()</code>. Defaults to <code>bankai-app</code></li>
<li><strong>opts.basedir</strong> directory to resolve <code>src</code> from. Defaults to <code>process.cwd()</code></li>
<li><strong>opts.fullPaths</strong> use full module paths as module ids. Defaults to <code>true</code></li>
</ul>
<h2>CLI</h2>
<pre>$ node ./bin/ --<span class="hljs-keyword">help</span>

  DIY asset server

  Usage
    $ bankai <span class="hljs-symbol">&lt;command&gt;</span> [<span class="hljs-keyword">options</span>]

  Commands
    start       Start <span class="hljs-keyword">a</span> bankai server
    build       Build the application <span class="hljs-built_in">and</span> <span class="hljs-keyword">write</span> it <span class="hljs-keyword">to</span> disk

    Options
      -<span class="hljs-keyword">e</span>, --entry=<span class="hljs-symbol">&lt;id&gt;</span>       Resolve <span class="hljs-symbol">&lt;id&gt;</span> from cwd <span class="hljs-built_in">and</span> use <span class="hljs-keyword">as</span> entry module [defaul<span class="hljs-variable">t:</span> .]
                             Entry module <span class="hljs-keyword">is</span> expected <span class="hljs-keyword">to</span> export `() -&gt; app`
      -<span class="hljs-keyword">p</span>, --port=<span class="hljs-symbol">&lt;n&gt;</span>         Bind bankai <span class="hljs-keyword">to</span> <span class="hljs-symbol">&lt;n&gt;</span> [defaul<span class="hljs-variable">t:</span> <span class="hljs-number">1337</span>]
      -<span class="hljs-keyword">o</span>, --optimize         Optimize the page <span class="hljs-built_in">and</span> <span class="hljs-keyword">all</span> assets served by bankai [defaul<span class="hljs-variable">t:</span> false]
      -<span class="hljs-keyword">b</span>, --<span class="hljs-keyword">browse</span>=<span class="hljs-symbol">&lt;app&gt;</span>     Browse the page served by bankai with <span class="hljs-symbol">&lt;app&gt;</span> [defaul<span class="hljs-variable">t:</span> false]
      -d, --dir=<span class="hljs-symbol">&lt;dir&gt;</span>        Write built application <span class="hljs-keyword">files</span> <span class="hljs-keyword">to</span> <span class="hljs-symbol">&lt;dir&gt;</span>
      --html.entry=<span class="hljs-symbol">&lt;uri&gt;</span>     Serve client js at <span class="hljs-symbol">&lt;uri&gt;</span> [defaul<span class="hljs-variable">t:</span> bundle.js]
      --html.css=<span class="hljs-symbol">&lt;uri&gt;</span>       Serve client css at <span class="hljs-symbol">&lt;uri&gt;</span> [defaul<span class="hljs-variable">t:</span> bundle.css]
      --html.favicon         Disable favicon [defaul<span class="hljs-variable">t:</span> true]
      --html.title           Title <span class="hljs-keyword">to</span> use <span class="hljs-keyword">for</span> page
      --html.lang            Lang attribute <span class="hljs-keyword">to</span> use [defaul<span class="hljs-variable">t:</span> <span class="hljs-keyword">en</span>]
      --css.use              sheetify plugins <span class="hljs-keyword">to</span> use
      --js.<span class="hljs-symbol">&lt;opt&gt;</span>=<span class="hljs-symbol">&lt;value&gt;</span>     Pass key <span class="hljs-symbol">&lt;opt&gt;</span> with <span class="hljs-symbol">&lt;value&gt;</span> <span class="hljs-keyword">to</span> browserify

  Examples
    $ bankai start
    Started bankai <span class="hljs-keyword">for</span> <span class="hljs-built_in">index</span>.js <span class="hljs-keyword">on</span> http://localhos<span class="hljs-variable">t:1337</span>

    $ bankai start --entry=basic
    Started bankai <span class="hljs-keyword">for</span> basic/<span class="hljs-built_in">index</span>.js <span class="hljs-keyword">on</span> http://localhos<span class="hljs-variable">t:1337</span>

    $ bankai start --port=<span class="hljs-number">3000</span>
    Started bankai <span class="hljs-keyword">for</span> <span class="hljs-built_in">index</span>.js <span class="hljs-keyword">on</span> http://localhos<span class="hljs-variable">t:3000</span>

    $ bankai start --<span class="hljs-keyword">open</span>
    Started bankai <span class="hljs-keyword">for</span> <span class="hljs-built_in">index</span>.js <span class="hljs-keyword">on</span> http://localhos<span class="hljs-variable">t:1337</span>
    Opening http://localhos<span class="hljs-variable">t:1337</span> with default browser

    $ bankai start --<span class="hljs-keyword">open</span> Safari
    Started bankai <span class="hljs-keyword">for</span> <span class="hljs-built_in">index</span>.js <span class="hljs-keyword">on</span> http://localhos<span class="hljs-variable">t:1337</span>
    Opening http://localhos<span class="hljs-variable">t:1337</span> with <span class="hljs-built_in">system</span> browser

    $ bankai build --dir=dist

    $ bankai build --dir=dist --html.title bankai

    $ bankai build --dir=dist --css.use sheetify-cssnext

    $ bankai build --dir=dist --js.fullPaths=false</pre><h2>Examples</h2>
<p>Projects showing exemplary usage are provided. Install root project dependencies,
example project dependencies and execute <code>npm start</code> to start an example.</p>
<ul>
<li><a href="./example/basic">Basic</a> - Minimal CLI and API usage</li>
</ul>
<h2>See Also</h2>
<ul>
<li><a href="https://www.npmjs.com/package/budo">budo</a></li>
<li><a href="https://github.com/mklabs/tiny-lr">tiny-lr</a></li>
<li><a href="https://github.com/sheetify/sheetify">sheetify</a></li>
<li><a href="https://github.com/substack/node-browserify">browserify</a></li>
</ul>
<h2>License</h2>
<p><a href="https://tldrlegal.com/license/mit-license">MIT</a></p>
</div></article></div><footer><div style="box-sizing:border-box;margin-bottom:32px;padding-top:8px;padding-bottom:8px;padding-left:32px;padding-right:32px;"><div style="margin-left:-16px;margin-right:-16px;"><a href="https://github.com/yoshuawuyts/bankai" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">GitHub</a><a href="https://github.com/yoshuawuyts" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">yoshuawuyts</a></div><div></div></div></footer></div><div style="font-family:-apple-system, sans-serif;font-size:12px;font-weight:600;text-align:right;padding:24px;color:#333;background-color:#eee;"><a href="http://compositor.io" style="color:inherit;text-decoration:none;">Built with Compositor.io</a></div></body></html>